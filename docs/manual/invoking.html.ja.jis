<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>

    <title>Starting Apache</title>
  </head>
  <!-- English revision: 1.34 -->
  <!-- Background white, links blue (unvisited), navy (visited), red (active) -->

  <body bgcolor="#FFFFFF" text="#000000" link="#0000FF"
  vlink="#000080" alink="#FF0000">
    <!--#include virtual="header.html" -->

    <h1 align="center">Apache の起動</h1>

    <ul>
      <li><a href="#windows">Windows での Apache の起動</a></li>

      <li>
        <a href="#unix">Unix での Apache の起動</a> 

        <ul>
          <li><a href="#errors">スタートアップ時のエラー</a></li>

          <li><a href="#boot">ブート時の起動</a></li>

          <li><a href="#info">追加情報</a></li>
        </ul>
      </li>
    </ul>
    <hr />

    <h2><a id="windows" name="windows">Windows
    での Apache の起動</a></h2>

    <p>Windows 上では、Apache は通常は
    Windows NT ではサービスとして、Windows 95 
    ではコンソールアプリケーションとして実行されます。
    詳細に関しては、「<a href="platform/windows.html#run">
    Windows で Apache を実行する</a>」をご覧下さい。</p>

    <h2><a id="unix" name="unix">Unix
    での Apache の起動</a></h2>

    <p>Unixでは、<a href="programs/httpd.html">httpd</a> 
    プログラムが、リクエスト処理をバックグラウンドで常に動作する
    デーモンとして実行されます。</p>

    <p>もし、設定ファイル中で指定されている
    <a href="mod/mpm_common.html#Listen">Listen</a>
    がデフォルトの 80 (もしくは 1024 以下の他のポート)
    である場合は、Apache を起動するためには root
    権限が必要になりますが、
    これはこの特権ポートにバインドするためです。
    起動して、一度ログファイルを開くといった準備のための
    動作を幾つか実行した後は、クライアントからのリクエストに対する
    listen と応答を実際に行う<em>子</em>プロセスを起動します。
    メインの <code>httpd</code> プロセスは root 権限で走り続けますが、
    子プロセスはもっと低い権限で走ります。
    これは選択した<a 
    href="mpm.html">マルチプロセッシングモジュール</a>で制御されます。</p>

    <p><code>httpd</code> が起動されてまず最初にすることは、
    <a href="configuring.html">設定ファイル</a> <code>httpd.conf</code>
    の位置を特定して読み込むことです。
    このファイルの位置はコンパイル時に設定されますが、実行時に
    <code>-f</code> コマンドラインオプションを使って
    位置を指定することもできます。例えば次のようにです。</p>

    <blockquote>
      <code>/usr/local/apache/bin/httpd -f
      /usr/local/apache/conf/httpd.conf</code>
    </blockquote>

    <p><code>httpd</code> のバイナリを直接起動する代わりに、
    <a href="programs/apachectl.html">apachectl</a>
    と呼ばれるシェルスクリプトが提供されています。
    <code>apachectl start</code> や <code>apachectl stop</code>
    といった簡単なコマンドで、
    デーモンプロセスを制御するのに使えます。</p>

    <p>スタートアップが万事上手くいったら、サーバはターミナルから
    切り離されて、コマンドプロンプトが即座に戻ってくるでしょう。
    これはサーバが起動している状態を示しています。
    その後はブラウザでサーバに接続して、
    <a href="mod/code.html#documentroot">DocumentRoot</a>
    ディレクトリのテストページやそこからリンクされている
    ローカルのドキュメントを見ることができるでしょう。</p>

    <h3><a id="errors" name="errors">スタートアップ時のエラー
    </a></h3>

    <p>Apache は、スタートアップ時に致命的な問題に遭遇すると、
    終了する前に、コンソールか
    <a href="mod/core.html#errorlog">ErrorLog</a>
    のどちらかに問題を記述したメッセージを出力します。
    最もよくあるエラーメッセージは
    "<code>Unable to bind to Port ...</code>"
    です。このメッセージは普通は次のどちらかが原因です:</p>

    <ul>
      <li>root でログインしていない時に、
      特権ポートでサーバを起動しようとした。</li>

      <li>同じポートに既にバインドされている Apache
      がもう一つあるときや他のウェブサーバが存在している時に、
      サーバを開始しようとした。</li>
    </ul>

    <p>より多くの問題解決の方策の説明は、
    Apache <a href="faq/">FAQ</a> をご覧下さい。</p>

    <h3><a id="boot" name="boot">ブート時の起動</a></h3>

    <p>システムがリブートした後でも
    サーバが実行され続けるようにしたい場合は、
    <code>httpd</code> か <code>apachectl</code>
    を呼び出すものをシステムスタートアップファイル
    (通常 <code>rc.local</code> や <code>rc.N</code>
    内のファイル) に追加しなければなりません。
    この方法では Apache を root 権限で起動します。
    これをする前に、セキュリティやアクセス制限が
    適切に設定されていていることを確認してください。
    <code>apachectl</code> スクリプトは通常は、 init 
    スクリプトとして直接リンクできるように設計されていますが、
    念のためシステムの要求に合致していることを確認してください。</p>

    <h3><a id="info" name="info">追加情報</a></h3>

    <p><a href="programs/httpd.html">httpd</a> や
    <a href="programs/apachectl.html">apachectl</a>
    、サーバに含まれていたその他補助プログラムの、
    コマンドラインオプションに関する追加情報は、
    <a href="programs/">サーバと補助プログラム</a>ページに
    記載されています。
    Apache 配布に含まれている全<a href="mod/">モジュール</a>、
    それによって提供される<a href="mod/directives.html">ディレクティブ</a>
    のドキュメントもあります。</p>
    <!--#include virtual="footer.html" -->
  </body>
</html>

