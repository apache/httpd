<html xmlns="http://www.w3.org/TR/xhtml1/strict"><head><!--
        XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
              This file is generated from xml source: DO NOT EDIT
        XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
      --><title>mod_auth - Apache HTTP Server</title><link href="../style/manual.css" type="text/css" rel="stylesheet"/></head><body><blockquote><div align="center"><img src="../images/sub.gif" alt="[APACHE DOCUMENTATION]"/><h3>Apache HTTP Server Version 2.0</h3></div><h1 align="center">Apache モジュール mod_auth</h1><table cellspacing="1" cellpadding="0" bgcolor="#cccccc"><tr><td><table bgcolor="#ffffff"><tr><td nowrap="nowrap" valign="top"><span class="help">説明:
                      </span></td><td>テキストファイルを用いたユーザ認証</td></tr><tr><td nowrap="nowrap"><a href="module-dict.html#Status" class="help">ステータス:
                      </a></td><td>Base</td></tr><tr><td nowrap="nowrap"><a href="module-dict.html#ModuleIdentifier" class="help">モジュール識別子:
                        </a></td><td>auth_module</td></tr></table></td></tr></table><h2>概要</h2>

    <p>プレインテキストのパスワードファイルとグループファイルを検査して
    ユーザを探すことで、HTTP 基本認証でアクセス制限できるようにします。
    似たような機能で、もっと大きなスケーラビリティを持ったものは、
    <code><a href="../mod/mod_auth_dbm.html">mod_auth_dbm</a></code> で提供されています。
    また、HTTP ダイジェスト認証は <code><a href="../mod/mod_auth_digest.html">mod_auth_digest</a></code>
    で提供されています。</p>

<h2>ディレクティブ</h2><ul><li><a href="#authauthoritative">AuthAuthoritative</a></li><li><a href="#authgroupfile">AuthGroupFile</a></li><li><a href="#authuserfile">AuthUserFile</a></li></ul><p><strong>参照 </strong></p><ul><li><a href="../mod/core.html#require" class="directive"><code class="directive">Require</code></a></li><li><a href="../mod/core.html#satisfy" class="directive"><code class="directive">Satisfy</code></a></li><li><a href="../mod/core.html#authname" class="directive"><code class="directive">AuthName</code></a></li><li><a href="../mod/core.html#authtype" class="directive"><code class="directive">AuthType</code></a></li></ul><hr/><h2><a name="AuthAuthoritative">AuthAuthoritative</a> <a name="authauthoritative">ディレクティブ</a></h2><table cellpadding="1" cellspacing="0" border="0" bgcolor="#cccccc"><tr><td><table bgcolor="#ffffff"><tr><td nowrap="nowrap"><strong>説明: 
                  </strong></td><td>認証と承認プロセスを、
より低いレベルのモジュールに移行させるかどうかを設定する</td></tr><tr><td nowrap="nowrap"><a href="directive-dict.html#Syntax" class="help">構文:
                  </a></td><td>AuthAuthoritative on|off</td></tr><tr><td nowrap="nowrap"><a href="directive-dict.html#Default" class="help">デフォルト: 
                    </a></td><td><code>AuthAuthoritative on</code></td></tr><tr><td nowrap="nowrap"><a href="directive-dict.html#Context" class="help">コンテキスト:
                  </a></td><td>ディレクトリ, .htaccess</td></tr><tr><td nowrap="nowrap"><a href="directive-dict.html#Override" class="help">上書き:
                    </a></td><td>AuthConfig</td></tr><tr><td nowrap="nowrap"><a href="directive-dict.html#Status" class="help">ステータス:
                  </a></td><td>Base</td></tr><tr><td nowrap="nowrap"><a href="directive-dict.html#Module" class="help">モジュール:
                  </a></td><td>mod_auth</td></tr></table></td></tr></table>

<blockquote><table><tr><td bgcolor="#e0e5f5">記載されている情報は、未だ Apache 2.0 向けにアップデートされていません。
Apache 2.0 では、モジュールの順序づけに異なる仕組みを使っています。</td></tr></table></blockquote>

    <p><code class="directive">AuthAuthoritative</code>
    ディレクティブで明示的に <strong>'off'</strong>に設定すると、
    与えられた認証ユーザ ID に対して<strong>ユーザ ID がない</strong>
    または<strong>ルールがない</strong>場合に、
    認証と承認の両方のプロセスが、
    より低いレベルのモジュール (<code>Configuration</code> と 
    <code>modules.c</code> ファイルで定義) に移行するようにできます。
    ユーザ ID がある、かつまたは、ルールが指定されている場合は、
    通常のパスワードとアクセスチェックが適用されて、
    認証に失敗すると「 Authorization Required 」応答が返されます。</p>

    <p>ですから、二つ以上のモジュールのデータベースで同一の
    ユーザ ID が現われたり、
    または、正しい <a href="../mod/core.html#require" class="directive"><code class="directive">Require</code></a>
    ディレクティブが二つ以上のモジュールで現われたりした場合は、
    一つ目のモジュールが認定を行って、AuthAuthoritative 設定に関わらず、
    アクセスは移行しません。</p>

    <p>一般的な使用法は、<code><a href="../mod/auth_dbm.html">auth_dbm</a></code>,
    <code>mod_auth_msql</code>, <code><a href="../mod/mod_auth_anon.html">mod_auth_anon</a></code>
    といったデータベースモジュールの一つと組み合わせることです。
    これらのモジュールは多くのユーザ資格検査を提供してくれます。
    しかし、少数の (管理者関連の) アクセスは
    <a href="#authuserfile" class="directive"><code class="directive">AuthUserFile</code></a>
    で良く保護された、より低レベルに移行するようにします。</p>

    <p>デフォルトでは、制御は移行しません。そして、未知のユーザ ID や
    ルールがあっても「Authorization Required」応答が返されます。
    ですから、このディレクティブ設定しないことでシステムの安全を維持できて、また、
    NCSA 準拠の挙動を強制できます。</p>

    <blockquote><table><tr><td bgcolor="#e0e5f5"><p align="center"><strong>セキュリティ</strong></p> ユーザが自分自身で作成した
    .htaccess ファイルで認証できるようにすることの影響を
    考慮に入れておいてください。そして、
    それが本当に希望の挙動であるかどうかを検討してください。
    一般的に言って、mSQL といったデータベースのセキュリティ保護よりも、
    単純に一つのファイル .htpasswd のセキュリティを保護する方が容易です。
    AuthUserFile は、ウェブサーバのドキュメントツリーの外側に保管する
    ようにしてください。保護しようとしているディレクトリ以下には、
    <em>置かないで下さい</em>。そうしないと 
    <a href="#authuserfile" class="directive"><code class="directive">AuthUserFile</code></a>
    はダウンロードできてしまいます。</td></tr></table></blockquote>
<hr/><h2><a name="AuthGroupFile">AuthGroupFile</a> <a name="authgroupfile">ディレクティブ</a></h2><table cellpadding="1" cellspacing="0" border="0" bgcolor="#cccccc"><tr><td><table bgcolor="#ffffff"><tr><td nowrap="nowrap"><strong>説明: 
                  </strong></td><td>認証に使用するユーザグループの一覧が格納されている、
テキストファイルの名前を設定する</td></tr><tr><td nowrap="nowrap"><a href="directive-dict.html#Syntax" class="help">構文:
                  </a></td><td>AuthGroupFile <em>file-path</em></td></tr><tr><td nowrap="nowrap"><a href="directive-dict.html#Context" class="help">コンテキスト:
                  </a></td><td>ディレクトリ, .htaccess</td></tr><tr><td nowrap="nowrap"><a href="directive-dict.html#Override" class="help">上書き:
                    </a></td><td>AuthConfig</td></tr><tr><td nowrap="nowrap"><a href="directive-dict.html#Status" class="help">ステータス:
                  </a></td><td>Base</td></tr><tr><td nowrap="nowrap"><a href="directive-dict.html#Module" class="help">モジュール:
                  </a></td><td>mod_auth</td></tr></table></td></tr></table>
    <p><code class="directive">AuthGroupFile</code> ディレクティブは、
    認証に使用するユーザグループの一覧が格納されている、
    テキストファイルの名前を設定します。
    <em>file-path</em> はグループファイルへのパスです。
    もし絶対パスでなければ
    (<em>つまり</em> スラッシュで始まらないパスであれば)
    、<a href="../mod/core.html#serverroot" class="directive"><code class="directive">ServerRoot</code></a>
    からの相対パスとして扱われます。</p>

    <p>グループファイル各行は、グループ名、コロン、そして
    スペース区切りでそのメンバーのユーザ名を記述します。
    例えば:</p>

<blockquote><table cellpadding="10"><tr><td bgcolor="#eeeeee"><code>mygroup: bob joe anne</code></td></tr></table></blockquote> 

    <p>大きなファイルを探索するのは、<em>非常に</em>効率が悪いという点に
    注意してください。そのような場合は、
    <a href="../mod/mod_auth_dbm.html#authdbmgroupfile" class="directive"><code class="directive">AuthDBMGroupFile</code></a>
    を代わりに使うべきでしょう。</p>

<blockquote><table><tr><td bgcolor="#e0e5f5"><p align="center"><strong>セキュリティ</strong></p>
    <p>AuthGroupFile は、ウェブサーバのドキュメントツリーの外側に
    保管するようにしてください。
    保護しようとしているディレクトリ以下には、<em>置かないで下さい</em>。
    そうしないと AuthGroupFile はダウンロードできてしまいます。</p>
</td></tr></table></blockquote>
<hr/><h2><a name="AuthUserFile">AuthUserFile</a> <a name="authuserfile">ディレクティブ</a></h2><table cellpadding="1" cellspacing="0" border="0" bgcolor="#cccccc"><tr><td><table bgcolor="#ffffff"><tr><td nowrap="nowrap"><strong>説明: 
                  </strong></td><td>認証に使用するユーザとパスワードの一覧が格納されている、
テキストファイルの名前を設定する</td></tr><tr><td nowrap="nowrap"><a href="directive-dict.html#Syntax" class="help">構文:
                  </a></td><td>AuthUserFile <em>file-path</em></td></tr><tr><td nowrap="nowrap"><a href="directive-dict.html#Context" class="help">コンテキスト:
                  </a></td><td>ディレクトリ, .htaccess</td></tr><tr><td nowrap="nowrap"><a href="directive-dict.html#Override" class="help">上書き:
                    </a></td><td>AuthConfig</td></tr><tr><td nowrap="nowrap"><a href="directive-dict.html#Status" class="help">ステータス:
                  </a></td><td>Base</td></tr><tr><td nowrap="nowrap"><a href="directive-dict.html#Module" class="help">モジュール:
                  </a></td><td>mod_auth</td></tr></table></td></tr></table>
    <p><code class="directive">AuthUserFile</code> ディレクティブは、
    ユーザ認証のためのユーザとパスワードの一覧を格納した
    テキストファイルの名前を設定します。<em>file-path</em>
    はユーザファイルへのパスです。
    もし絶対パスでなければ
    (<em>つまり</em> スラッシュで始まらないパスであれば)
    、<a href="../mod/core.html#serverroot" class="directive"><code class="directive">ServerRoot</code></a>
    からの相対パスとして扱われます。</p>

    <p>ユーザファイルの各行には、ユーザ名、コロン、
    <code>crypt()</code> で暗号化したパスワードを記述します。
    同一ユーザが複数回登録された時の挙動は定義されていません。</p>

    <p>バイナリ配布の一部としてインストールされるか、
    あるいは <code>src/support</code> にある
    <a href="../programs/htpasswd.html">htpasswd</a>
    ユーティリティで、このパスワードファイルをメインテナンスします。
    詳細は <code>man</code> ページをご覧頂くとして、簡単には:</p>

    <p>初期 ID username で、Filename
    というパスワードファイルを生成します。
    次のコマンドを発行するとパスワードが要求されます:</p>
<blockquote><table cellpadding="10"><tr><td bgcolor="#eeeeee"><code>htpasswd -c Filename username</code></td></tr></table></blockquote>

    <p>パスワードファイル Filename に、username2
    を追加したり修正したりします:</p>
<blockquote><table cellpadding="10"><tr><td bgcolor="#eeeeee"><code>htpasswd Filename username2</code></td></tr></table></blockquote>

    <p>(訳注: 非常に多くのユーザを登録すると大きなファイルになりますが)
    大きなテキストファイルを検索するのは<em>非常に</em>効率が悪い
    ということに注意してください。そのような必要のある時は、
    <a href="../mod/mod_auth_dbm.html#authdbmuserfile" class="directive"><code class="directive">AuthDBMUserFile</code></a>
    を代わりに使ってください。</p>

<blockquote><table><tr><td bgcolor="#e0e5f5"><p align="center"><strong>セキュリティ</strong></p><p>AuthUserFile 
は、ウェブサーバのドキュメントツリーの外側に保管するようにしてください。
保護しようとしているディレクトリ以下には、<em>置かないで下さい</em>。
そうしないと AuthUserFile はダウンロードできてしまいます。</p></td></tr></table></blockquote>

<hr/></blockquote><h3 align="center">Apache HTTP Server Version 2.0</h3><a href="./"><img src="../images/index.gif" alt="索引"/></a><a href="../"><img src="../images/home.gif" alt="ホーム"/></a></body></html>